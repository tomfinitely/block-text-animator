document.addEventListener("DOMContentLoaded",function(){const t=window.matchMedia("(prefers-reduced-motion: reduce)").matches;document.querySelectorAll(".wp-block-telex-block-text-animator").forEach(function(e){const n=JSON.parse(e.dataset.textStrings||"[]"),i=e.dataset.animationType||"typewriter",o=parseInt(e.dataset.animationDuration||"1000"),a=parseInt(e.dataset.displayDuration||"2000");if(0===n.length)return;const l=e.querySelector(".text-animator__animated-text");if(!l)return;let s=0,r=!1;function c(){l.style.display="",l.style.minWidth="",l.style.minHeight="",l.style.verticalAlign=""}function y(t){l.textContent=t}function d(){r=!1,e.classList.remove("text-animator--animating"),l.style.opacity="",l.style.transform="",c()}t?setInterval(()=>{s=(s+1)%n.length,l.textContent=n[s]},a):(y(n[s]),setInterval(()=>{r||(s=(s+1)%n.length,function(t){if(!r)switch(r=!0,function(t){l.textContent;const e=getComputedStyle(l),n=l.parentElement.offsetWidth,i=l.offsetWidth,o=l.offsetHeight,a=document.createElement("span");a.textContent=t,a.style.visibility="hidden",a.style.position="absolute",a.style.display="inline-block",a.style.maxWidth=n+"px",a.style.fontSize=e.fontSize,a.style.fontFamily=e.fontFamily,a.style.fontWeight=e.fontWeight,a.style.letterSpacing=e.letterSpacing,a.style.lineHeight=e.lineHeight,a.style.wordBreak=e.wordBreak,a.style.whiteSpace=e.whiteSpace,document.body.appendChild(a);const s=a.offsetWidth,r=a.offsetHeight;document.body.removeChild(a);const c=Math.max(i,s),y=Math.max(o,r);l.style.display="inline-block",l.style.minWidth=c+"px",l.style.minHeight=y+"px",l.style.verticalAlign="top"}(t),e.classList.add("text-animator--animating"),i){case"typewriter":!function(t){const n=l.textContent;let i=n.length,o=0;e.classList.add("text-animator--typing");const a=setInterval(()=>{if(i>0)l.textContent=n.substring(0,i-1),i--;else{clearInterval(a);const n=setInterval(()=>{o<t.length?(l.textContent=t.substring(0,o+1),o++):(clearInterval(n),e.classList.remove("text-animator--typing"),d())},50)}},30)}(t);break;case"matrix":!function(t){const e="!@#$%^&*()_+-=[]{}|;:,.<>?ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n=0;const i=setInterval(()=>{const o=t.split("").map((i,o)=>o<t.length*n/20?t[o]:e[Math.floor(88*Math.random())]).join("");l.textContent=o,n++,n>20&&(clearInterval(i),l.textContent=t,d())},o/20)}(t);break;case"fade":!function(t){l.style.opacity="0",setTimeout(()=>{l.textContent=t,l.style.opacity="1",d()},o/2)}(t);break;case"flash":!function(t){let e=0;const n=setInterval(()=>{l.style.opacity=e%2==0?"0":"1",e++,e===Math.floor(4.5)&&(l.textContent=t),e>=6&&(clearInterval(n),l.style.opacity="1",d())},o/6)}(t);break;case"burst":!function(t){l.style.transform="scale(1.2) rotateY(90deg)",l.style.opacity="0",setTimeout(()=>{l.textContent=t,l.style.transform="scale(1) rotateY(0deg)",l.style.opacity="1",d()},o/2)}(t);break;case"glitch":!function(t){const e=l.textContent;l.setAttribute("data-text",t);const n=getComputedStyle(l),i=l.offsetWidth,a=l.offsetHeight,s=document.createElement("span");s.textContent=e,s.style.visibility="hidden",s.style.position="absolute",s.style.whiteSpace="nowrap",s.style.fontSize=n.fontSize,s.style.fontFamily=n.fontFamily,s.style.fontWeight=n.fontWeight,s.style.letterSpacing=n.letterSpacing,document.body.appendChild(s);const r=s.offsetWidth;document.body.removeChild(s);const c=document.createElement("span");c.textContent=t,c.style.visibility="hidden",c.style.position="absolute",c.style.whiteSpace="nowrap",c.style.fontSize=n.fontSize,c.style.fontFamily=n.fontFamily,c.style.fontWeight=n.fontWeight,c.style.letterSpacing=n.letterSpacing,document.body.appendChild(c);const y=c.offsetWidth,f=c.offsetHeight;document.body.removeChild(c);const h=Math.max(i,r,y),m=Math.max(a,f);l.style.display="inline-block",l.style.width=h+"px",l.style.height=m+"px",l.style.overflow="hidden",l.style.verticalAlign="top";let p=0;const u="!@#$%^&*()_+-=[]{}|;:,.<>?ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",g=setInterval(()=>{if(p<15){let n="";const i=Math.min(e.length,t.length),o=Math.max(1,Math.floor(.8*i));for(let t=0;t<o;t++)n+=u[Math.floor(88*Math.random())];l.textContent=n,p++}else clearInterval(g),l.style.transition="opacity 0.02s ease",l.style.opacity="0.7",setTimeout(()=>{l.textContent=t,l.style.opacity="1",setTimeout(()=>{l.removeAttribute("data-text"),l.style.transition="",l.style.display="",l.style.width="",l.style.height="",l.style.overflow="",l.style.verticalAlign="",d()},20)},20)},o/15)}(t);break;default:y(t),c(),d()}}(n[s]))},a+o))})});
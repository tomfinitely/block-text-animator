document.addEventListener("DOMContentLoaded",function(){const t=window.matchMedia("(prefers-reduced-motion: reduce)").matches;document.querySelectorAll(".wp-block-telex-block-text-animator").forEach(function(e){const n=JSON.parse(e.dataset.textStrings||"[]"),i=e.dataset.animationType||"typewriter",o=parseInt(e.dataset.animationDuration||"1000"),a=parseInt(e.dataset.displayDuration||"2000");if(0===n.length)return;const s=e.querySelector(".text-animator__animated-text");if(!s)return;let l=0,c=!1;function r(){s.style.display="",s.style.minWidth="",s.style.minHeight="",s.style.verticalAlign=""}function y(t){s.textContent=t}function d(){c=!1,e.classList.remove("text-animator--animating"),s.style.opacity="",s.style.transform="",r()}t?setInterval(()=>{l=(l+1)%n.length,s.textContent=n[l]},a):(y(n[l]),setInterval(()=>{c||(l=(l+1)%n.length,function(t){if(!c)switch(c=!0,function(t){s.textContent;const e=getComputedStyle(s),n=s.parentElement.offsetWidth,i=s.offsetWidth,o=s.offsetHeight,a=document.createElement("span");a.textContent=t,a.style.visibility="hidden",a.style.position="absolute",a.style.display="inline-block",a.style.maxWidth=n+"px",a.style.fontSize=e.fontSize,a.style.fontFamily=e.fontFamily,a.style.fontWeight=e.fontWeight,a.style.letterSpacing=e.letterSpacing,a.style.lineHeight=e.lineHeight,a.style.wordBreak=e.wordBreak,a.style.whiteSpace=e.whiteSpace,document.body.appendChild(a);const l=a.offsetWidth,c=a.offsetHeight;document.body.removeChild(a);const r=Math.max(i,l),y=Math.max(o,c);s.style.display="inline-block",s.style.minWidth=r+"px",s.style.minHeight=y+"px",s.style.verticalAlign="top"}(t),e.classList.add("text-animator--animating"),i){case"typewriter":!function(t){const n=s.textContent;let i=n.length,o=0;e.classList.add("text-animator--typing");const a=setInterval(()=>{if(i>0)s.textContent=n.substring(0,i-1),i--;else{clearInterval(a);const n=setInterval(()=>{o<t.length?(s.textContent=t.substring(0,o+1),o++):(clearInterval(n),e.classList.remove("text-animator--typing"),d())},50)}},30)}(t);break;case"matrix":!function(t){const e="!@#$%^&*()_+-=[]{}|;:,.<>?ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n=0;const i=setInterval(()=>{const o=t.split("").map((i,o)=>o<t.length*n/20?t[o]:e[Math.floor(88*Math.random())]).join("");s.textContent=o,n++,n>20&&(clearInterval(i),s.textContent=t,d())},o/20)}(t);break;case"fade":!function(t){s.style.opacity="0",setTimeout(()=>{s.textContent=t,s.style.opacity="1",d()},o/2)}(t);break;case"flash":!function(t){let e=0;const n=setInterval(()=>{s.style.opacity=e%2==0?"0":"1",e++,e===Math.floor(4.5)&&(s.textContent=t),e>=6&&(clearInterval(n),s.style.opacity="1",d())},o/6)}(t);break;case"burst":!function(t){s.style.transform="scale(1.2) rotateY(90deg)",s.style.opacity="0",setTimeout(()=>{s.textContent=t,s.style.transform="scale(1) rotateY(0deg)",s.style.opacity="1",d()},o/2)}(t);break;case"glitch":!function(t){const e=s.textContent;s.setAttribute("data-text",t);const n=getComputedStyle(s),i=s.offsetWidth,a=s.offsetHeight,l=document.createElement("span");l.textContent=e,l.style.visibility="hidden",l.style.position="absolute",l.style.whiteSpace="nowrap",l.style.fontSize=n.fontSize,l.style.fontFamily=n.fontFamily,l.style.fontWeight=n.fontWeight,l.style.letterSpacing=n.letterSpacing,document.body.appendChild(l);const c=l.offsetWidth;document.body.removeChild(l);const r=document.createElement("span");r.textContent=t,r.style.visibility="hidden",r.style.position="absolute",r.style.whiteSpace="nowrap",r.style.fontSize=n.fontSize,r.style.fontFamily=n.fontFamily,r.style.fontWeight=n.fontWeight,r.style.letterSpacing=n.letterSpacing,document.body.appendChild(r);const y=r.offsetWidth,f=r.offsetHeight;document.body.removeChild(r);const h=Math.max(i,c,y),m=Math.max(a,f);s.style.display="inline-block",s.style.width=h+"px",s.style.height=m+"px",s.style.overflow="hidden",s.style.verticalAlign="top";let p=0;const u="!@#$%^&*()_+-=[]{}|;:,.<>?ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",g=setInterval(()=>{if(p<15){let t="";const n=Math.max(1,e.length-2);for(let e=0;e<n;e++)t+=u[Math.floor(88*Math.random())];s.textContent=t,p++}else clearInterval(g),s.style.transition="opacity 0.02s ease",s.style.opacity="0.7",setTimeout(()=>{s.textContent=t,s.style.opacity="1",setTimeout(()=>{s.removeAttribute("data-text"),s.style.transition="",s.style.display="",s.style.width="",s.style.height="",s.style.overflow="",s.style.verticalAlign="",d()},20)},20)},o/15)}(t);break;default:y(t),r(),d()}}(n[l]))},a+o))})});
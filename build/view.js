document.addEventListener("DOMContentLoaded",function(){const t=window.matchMedia("(prefers-reduced-motion: reduce)").matches;document.querySelectorAll(".wp-block-telex-block-text-animator").forEach(function(e){const n=JSON.parse(e.dataset.textStrings||"[]"),i=e.dataset.animationType||"typewriter",o=parseInt(e.dataset.animationDuration||"1000"),s=parseInt(e.dataset.displayDuration||"2000");if(0===n.length)return;const a=e.querySelector(".text-animator__animated-text");if(!a)return;let l=0,c=!1;function r(){a.style.display="",a.style.minWidth="",a.style.minHeight="",a.style.verticalAlign=""}function y(t){a.textContent=t}function d(){c=!1,e.classList.remove("text-animator--animating"),a.style.opacity="",a.style.transform="",r()}t?setInterval(()=>{l=(l+1)%n.length,a.textContent=n[l]},s):(y(n[l]),setInterval(()=>{c||(l=(l+1)%n.length,function(t){if(!c)switch(c=!0,function(t){a.textContent;const e=getComputedStyle(a),n=a.parentElement.offsetWidth,i=a.offsetWidth,o=a.offsetHeight,s=document.createElement("span");s.textContent=t,s.style.visibility="hidden",s.style.position="absolute",s.style.display="inline-block",s.style.maxWidth=n+"px",s.style.fontSize=e.fontSize,s.style.fontFamily=e.fontFamily,s.style.fontWeight=e.fontWeight,s.style.letterSpacing=e.letterSpacing,s.style.lineHeight=e.lineHeight,s.style.wordBreak=e.wordBreak,s.style.whiteSpace=e.whiteSpace,document.body.appendChild(s);const l=s.offsetWidth,c=s.offsetHeight;document.body.removeChild(s);const r=Math.max(i,l),y=Math.max(o,c);a.style.display="inline-block",a.style.minWidth=r+"px",a.style.minHeight=y+"px",a.style.verticalAlign="top"}(t),e.classList.add("text-animator--animating"),i){case"typewriter":!function(t){const n=a.textContent;let i=n.length,o=0;e.classList.add("text-animator--typing");const s=setInterval(()=>{if(i>0)a.textContent=n.substring(0,i-1),i--;else{clearInterval(s);const n=setInterval(()=>{o<t.length?(a.textContent=t.substring(0,o+1),o++):(clearInterval(n),e.classList.remove("text-animator--typing"),d())},50)}},30)}(t);break;case"matrix":!function(t){const e="!@#$%^&*()_+-=[]{}|;:,.<>?ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n=0;const i=setInterval(()=>{const o=t.split("").map((i,o)=>o<t.length*n/20?t[o]:e[Math.floor(88*Math.random())]).join("");a.textContent=o,n++,n>20&&(clearInterval(i),a.textContent=t,d())},o/20)}(t);break;case"fade":!function(t){a.style.opacity="0",setTimeout(()=>{a.textContent=t,a.style.opacity="1",d()},o/2)}(t);break;case"flash":!function(t){let e=0;const n=setInterval(()=>{a.style.opacity=e%2==0?"0":"1",e++,e===Math.floor(4.5)&&(a.textContent=t),e>=6&&(clearInterval(n),a.style.opacity="1",d())},o/6)}(t);break;case"burst":!function(t){a.style.transform="scale(1.2) rotateY(90deg)",a.style.opacity="0",setTimeout(()=>{a.textContent=t,a.style.transform="scale(1) rotateY(0deg)",a.style.opacity="1",d()},o/2)}(t);break;case"glitch":!function(t){const e=a.textContent;a.setAttribute("data-text",t);const n=getComputedStyle(a),i=a.offsetWidth,s=a.offsetHeight,l=document.createElement("span");l.textContent=e,l.style.visibility="hidden",l.style.position="absolute",l.style.whiteSpace="nowrap",l.style.fontSize=n.fontSize,l.style.fontFamily=n.fontFamily,l.style.fontWeight=n.fontWeight,l.style.letterSpacing=n.letterSpacing,document.body.appendChild(l);const c=l.offsetWidth;document.body.removeChild(l);const r=document.createElement("span");r.textContent=t,r.style.visibility="hidden",r.style.position="absolute",r.style.whiteSpace="nowrap",r.style.fontSize=n.fontSize,r.style.fontFamily=n.fontFamily,r.style.fontWeight=n.fontWeight,r.style.letterSpacing=n.letterSpacing,document.body.appendChild(r);const y=r.offsetWidth,f=r.offsetHeight;document.body.removeChild(r);const h=Math.max(i,c,y),m=Math.max(s,f);a.style.display="inline-block",a.style.width=h+"px",a.style.height=m+"px",a.style.overflow="hidden",a.style.verticalAlign="top";let p=0;const u="!@#$%^&*()_+-=[]{}|;:,.<>?ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",g=setInterval(()=>{if(p<15){let n="";const i=Math.min(e.length,t.length);for(let t=0;t<i;t++)n+=u[Math.floor(88*Math.random())];a.textContent=n,p++}else clearInterval(g),a.style.transition="opacity 0.02s ease",a.style.opacity="0.7",setTimeout(()=>{a.textContent=t,a.style.opacity="1",setTimeout(()=>{a.removeAttribute("data-text"),a.style.transition="",a.style.display="",a.style.width="",a.style.height="",a.style.overflow="",a.style.verticalAlign="",d()},20)},20)},o/15)}(t);break;default:y(t),r(),d()}}(n[l]))},s+o))})});
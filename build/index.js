(()=>{"use strict";var t,e={502:()=>{const t=window.wp.blocks,e=window.wp.i18n,a=window.wp.blockEditor,n=window.wp.components,i=window.wp.element,o=window.wp.data,r=window.ReactJSXRuntime,l=["telex/text-animator-item"],s=[["telex/text-animator-item",{text:"Your text here"}],["telex/text-animator-item",{text:"Add more text"}],["telex/text-animator-item",{text:"For animation"}]],x=JSON.parse('{"UU":"telex/block-text-animator"}');(0,t.registerBlockType)(x.UU,{edit:function({attributes:x,setAttributes:m,clientId:c}){const{prefix:u,suffix:d,animationType:_,animationDuration:p,displayDuration:h,layout:v}=x,[f,b]=(0,i.useState)(0),[w,j]=(0,i.useState)(""),{innerBlocks:g,hasInnerBlocks:y}=(0,o.useSelect)(t=>({innerBlocks:t(a.store).getBlocks(c),hasInnerBlocks:t(a.store).getBlocks(c).length>0}),[c]),{insertBlock:k}=(0,o.useDispatch)(a.store),B=g.map(t=>t.attributes.text||"").filter(t=>t.trim()),C=(0,a.useBlockProps)({ClassName:`text-animator text-animator--${_} text-animator--layout-${v}`}),N=(0,a.useInnerBlocksProps)({className:`text-animator__items text-animator__items--${v}`},{allowedBlocks:l,template:s,templateInsertUpdatesSelection:!1,orientation:"column"===v?"vertical":"horizontal",renderAppender:!1});(0,i.useEffect)(()=>{if(0===B.length)return;const t=setInterval(()=>{b(t=>(t+1)%B.length)},h+p);return()=>clearInterval(t)},[B,h,p]),(0,i.useEffect)(()=>{B[f]&&j(B[f])},[f,B]);const T=[{label:(0,e.__)("Typewriter","text-animator"),value:"typewriter"},{label:(0,e.__)("Matrix Scramble","text-animator"),value:"matrix"},{label:(0,e.__)("Fade","text-animator"),value:"fade"},{label:(0,e.__)("Flash","text-animator"),value:"flash"},{label:(0,e.__)("Burst","text-animator"),value:"burst"},{label:(0,e.__)("Glitch","text-animator"),value:"glitch"}],A=[{label:(0,e.__)("Row (Horizontal)","text-animator"),value:"row"},{label:(0,e.__)("Column (Vertical)","text-animator"),value:"column"}];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.InspectorControls,{children:[(0,r.jsx)(n.PanelBody,{title:(0,e.__)("Layout Settings","text-animator"),children:(0,r.jsx)(n.SelectControl,{label:(0,e.__)("Layout Direction","text-animator"),value:v,options:A,onChange:t=>m({layout:t}),help:(0,e.__)("Choose how text items are arranged in the editor.","text-animator")})}),(0,r.jsxs)(n.PanelBody,{title:(0,e.__)("Animation Settings","text-animator"),children:[(0,r.jsx)(n.SelectControl,{label:(0,e.__)("Animation Type","text-animator"),value:_,options:T,onChange:t=>m({animationType:t})}),(0,r.jsx)(n.RangeControl,{label:(0,e.__)("Animation Duration (ms)","text-animator"),value:p,onChange:t=>m({animationDuration:t}),min:200,max:3e3,step:100}),(0,r.jsx)(n.RangeControl,{label:(0,e.__)("Display Duration (ms)","text-animator"),value:h,onChange:t=>m({displayDuration:t}),min:500,max:5e3,step:100})]}),(0,r.jsxs)(n.PanelBody,{title:(0,e.__)("Text Settings","text-animator"),children:[(0,r.jsx)(n.TextControl,{label:(0,e.__)("Prefix Text","text-animator"),value:u,onChange:t=>m({prefix:t}),placeholder:(0,e.__)("Text before animation...","text-animator")}),(0,r.jsx)(n.TextControl,{label:(0,e.__)("Suffix Text","text-animator"),value:d,onChange:t=>m({suffix:t}),placeholder:(0,e.__)("Text after animation...","text-animator")})]})]}),(0,r.jsxs)("div",{...C,children:[(0,r.jsxs)("div",{className:"text-animator__editor-preview",children:[(0,r.jsxs)("div",{className:"text-animator__content",children:[u&&(0,r.jsx)("span",{className:"text-animator__prefix",children:u}),(0,r.jsx)("span",{className:"text-animator__animated-text text-animator__preview-text",children:w||(B.length>0?B[0]:(0,e.__)("Add text items below","text-animator"))}),d&&(0,r.jsx)("span",{className:"text-animator__suffix",children:d})]}),(0,r.jsx)("div",{className:"text-animator__help",children:(0,r.jsx)("small",{children:(0,e.__)("Preview shows current animation. Edit text items below:","text-animator")})})]}),(0,r.jsxs)("div",{className:"text-animator__editor-content",children:[(0,r.jsx)("div",{...N}),(0,r.jsx)("div",{className:"text-animator__appender",children:(0,r.jsxs)(n.Button,{className:"text-animator__add-item",onClick:()=>{const e=(0,t.createBlock)("telex/text-animator-item",{text:""});k(e,g.length,c)},variant:"secondary",title:(0,e.__)("Add animation text","text-animator"),children:["+ ",(0,e.__)("Add Text","text-animator")]})})]})]})]})},save:function({attributes:t}){const{prefix:e,suffix:n,animationType:i,animationDuration:o,displayDuration:l,layout:s}=t,x=a.useBlockProps.save({className:`text-animator text-animator--${i} text-animator--layout-${s}`,"data-animation-type":i,"data-animation-duration":o,"data-display-duration":l});return(0,r.jsx)("div",{...x,children:(0,r.jsxs)("div",{className:"text-animator__content",children:[e&&(0,r.jsx)("span",{className:"text-animator__prefix",children:e}),(0,r.jsx)("div",{className:`text-animator__items text-animator__items--${s}`,children:(0,r.jsx)(a.InnerBlocks.Content,{})}),n&&(0,r.jsx)("span",{className:"text-animator__suffix",children:n})]})})}}),(0,t.registerBlockType)("telex/text-animator-item",{title:"Text Animation Item",category:"text",icon:"editor-textcolor",description:"Individual text item for the Text Animator block.",parent:["telex/block-text-animator"],attributes:{text:{type:"string",default:""}},usesContext:["textAnimator/animationType","textAnimator/layout"],supports:{html:!1,inserter:!1,reusable:!1,lock:!1},edit:function({attributes:n,setAttributes:o,context:l}){const{text:s}=n,x=l["textAnimator/layout"]||"row",m=(0,i.useRef)(),c=(0,a.useBlockProps)({className:`text-animator-item text-animator-item--${x}`});return(0,i.useEffect)(()=>{s&&""!==s.trim()||setTimeout(()=>{m.current&&m.current.focus()},100)},[]),(0,r.jsx)("div",{...c,children:(0,r.jsx)(a.RichText,{ref:m,tagName:"span",value:s,onChange:t=>o({text:t}),placeholder:(0,e.__)("Enter animated text...","text-animator"),className:"text-animator-item__text",allowedFormats:[],onSplit:e=>e?(0,t.createBlock)("telex/text-animator-item",{text:e}):(0,t.createBlock)("telex/text-animator-item",{text:""}),onReplace:t=>t,onRemove:()=>null,multiline:!1,identifier:"text","aria-label":(0,e.__)("Animation text","text-animator")})})},save:function({attributes:t}){const{text:e}=t,n=a.useBlockProps.save({className:"text-animator-item"});return(0,r.jsx)("div",{...n,children:(0,r.jsx)(a.RichText.Content,{tagName:"span",className:"text-animator-item__content",value:e||""})})}})}},a={};function n(t){var i=a[t];if(void 0!==i)return i.exports;var o=a[t]={exports:{}};return e[t](o,o.exports,n),o.exports}n.m=e,t=[],n.O=(e,a,i,o)=>{if(!a){var r=1/0;for(m=0;m<t.length;m++){for(var[a,i,o]=t[m],l=!0,s=0;s<a.length;s++)(!1&o||r>=o)&&Object.keys(n.O).every(t=>n.O[t](a[s]))?a.splice(s--,1):(l=!1,o<r&&(r=o));if(l){t.splice(m--,1);var x=i();void 0!==x&&(e=x)}}return e}o=o||0;for(var m=t.length;m>0&&t[m-1][2]>o;m--)t[m]=t[m-1];t[m]=[a,i,o]},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={57:0,350:0};n.O.j=e=>0===t[e];var e=(e,a)=>{var i,o,[r,l,s]=a,x=0;if(r.some(e=>0!==t[e])){for(i in l)n.o(l,i)&&(n.m[i]=l[i]);if(s)var m=s(n)}for(e&&e(a);x<r.length;x++)o=r[x],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(m)},a=globalThis.webpackChunktext_animator=globalThis.webpackChunktext_animator||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))})();var i=n.O(void 0,[350],()=>n(502));i=n.O(i)})();
document.addEventListener("DOMContentLoaded",function(){const t=window.matchMedia("(prefers-reduced-motion: reduce)").matches;document.querySelectorAll(".wp-block-telex-block-text-animator").forEach(function(e){const n=JSON.parse(e.dataset.textStrings||"[]"),o=e.dataset.animationType||"typewriter",a=parseInt(e.dataset.animationDuration||"1000"),s=parseInt(e.dataset.displayDuration||"2000");if(0===n.length)return;const i=e.querySelector(".text-animator__animated-text");if(!i)return;let l=0,r=!1;function c(t){i.textContent=t}function y(){r=!1,e.classList.remove("text-animator--animating"),i.style.opacity="",i.style.transform=""}t?setInterval(()=>{l=(l+1)%n.length,i.textContent=n[l]},s):(c(n[l]),setInterval(()=>{r||(l=(l+1)%n.length,function(t){if(!r)switch(r=!0,e.classList.add("text-animator--animating"),o){case"typewriter":!function(t){const n=i.textContent;let o=n.length,a=0;e.classList.add("text-animator--typing");const s=setInterval(()=>{if(o>0)i.textContent=n.substring(0,o-1),o--;else{clearInterval(s);const n=setInterval(()=>{a<t.length?(i.textContent=t.substring(0,a+1),a++):(clearInterval(n),e.classList.remove("text-animator--typing"),y())},50)}},30)}(t);break;case"matrix":!function(t){const e="!@#$%^&*()_+-=[]{}|;:,.<>?ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n=0;const o=setInterval(()=>{const a=t.split("").map((o,a)=>a<t.length*n/20?t[a]:e[Math.floor(88*Math.random())]).join("");i.textContent=a,n++,n>20&&(clearInterval(o),i.textContent=t,y())},a/20)}(t);break;case"fade":!function(t){i.style.opacity="0",setTimeout(()=>{i.textContent=t,i.style.opacity="1",y()},a/2)}(t);break;case"flash":!function(t){let e=0;const n=setInterval(()=>{i.style.opacity=e%2==0?"0":"1",e++,e===Math.floor(4.5)&&(i.textContent=t),e>=6&&(clearInterval(n),i.style.opacity="1",y())},a/6)}(t);break;case"burst":!function(t){i.style.transform="scale(1.2) rotateY(90deg)",i.style.opacity="0",setTimeout(()=>{i.textContent=t,i.style.transform="scale(1) rotateY(0deg)",i.style.opacity="1",y()},a/2)}(t);break;case"glitch":!function(t){const e=i.textContent;i.setAttribute("data-text",t);const n=getComputedStyle(i),o=i.offsetWidth,s=i.offsetHeight,l=document.createElement("span");l.textContent=e,l.style.visibility="hidden",l.style.position="absolute",l.style.whiteSpace="nowrap",l.style.fontSize=n.fontSize,l.style.fontFamily=n.fontFamily,l.style.fontWeight=n.fontWeight,l.style.letterSpacing=n.letterSpacing,document.body.appendChild(l);const r=l.offsetWidth;document.body.removeChild(l);const c=document.createElement("span");c.textContent=t,c.style.visibility="hidden",c.style.position="absolute",c.style.whiteSpace="nowrap",c.style.fontSize=n.fontSize,c.style.fontFamily=n.fontFamily,c.style.fontWeight=n.fontWeight,c.style.letterSpacing=n.letterSpacing,document.body.appendChild(c);const d=c.offsetWidth,f=c.offsetHeight;document.body.removeChild(c);const m=Math.max(o,r,d),p=Math.max(s,f);i.style.display="inline-block",i.style.width=m+"px",i.style.height=p+"px",i.style.overflow="hidden",i.style.verticalAlign="top";let h=0;const u="!@#$%^&*()_+-=[]{}|;:,.<>?ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",g=setInterval(()=>{if(h<15){let e="";const n=t.length;for(let t=0;t<n;t++)e+=u[Math.floor(88*Math.random())];i.textContent=e,h++}else clearInterval(g),i.style.transition="opacity 0.02s ease",i.style.opacity="0.7",setTimeout(()=>{i.textContent=t,i.style.opacity="1",setTimeout(()=>{i.removeAttribute("data-text"),i.style.transition="",i.style.display="",i.style.width="",i.style.height="",i.style.overflow="",i.style.verticalAlign="",y()},20)},20)},a/15)}(t);break;default:c(t),y()}}(n[l]))},s+a))})});